name: Auto DevOps Workflow

on:
  workflow_call:
    inputs:
      project_name:
        type: string
        required: false
        default: ""
      project_language:
        type: string
        required: false
        default: ""
      project_namespace:
        type: string
        required: false
        default: ""
      jdk_version:
        type: string
        required: false
        default: 11
      skip_tests:
        type: boolean
        required: false
        default: false
      skip_quality_gate_check:
        type: boolean
        required: false
        default: false
    secrets:
      maven_settings:
        required: true
      nexus_username:
        required: true
      nexus_password:
        required: true
      sonar_token:
        required: true
      
jobs:
  setup:
    name: setup
    uses: ./.github/workflows/setup.yml
  maven:
    name: maven
    uses: ./.github/workflows/maven.yml
    with:
      jdk_version: 8
    secrets: inherit